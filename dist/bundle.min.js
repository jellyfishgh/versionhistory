!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var util=require("./util"),search=util.parse(location.search.substr(1)),platform=search.platform?search.platform:util.whichPlatform(navigator.userAgent),version=search.version;util.fetch("./"+platform+".json",function(vs){(!version||util.v2n(version)<util.v2n(vs[0].version))&&(util.find("banner").style.display="block",bs1.innerHTML="有新版本"+vs[0].version,util.find("download").href=util.getDownloadUrl(platform),util.find("bs3").ontouchend=function(e){e.stopPropagation(),banner.style.display="none"});var container=util.find("container");container.appendChild(util.createTitleView(platform)),vs.map(function(v){container.appendChild(util.createVersionView(v))})},function(){util.find("container").innerHTML="<div class='center fail'>加载失败，请稍后重试。</div>"},function(){util.find("centerDiv").style.display="none"})},{"./util":2}],2:[function(require,module,exports){function v2n(v){for(var ns=v.slice(0,5).split("."),sum=0,i=0;i<ns.length;i++)sum+=parseInt(ns[i],10)*Math.pow(10,ns.length-i-1);return sum}function create(name,className,inner){var ele=document.createElement(name);return className&&(ele.className=className),inner&&(ele.innerHTML=inner),ele}function find(id){return document.getElementById(id)}function parse(search){var qs=search.split("&"),searchJson={};for(var key in qs){var arr=qs[key].split("=");searchJson[arr[0]]=arr[1]}return searchJson}function whichPlatform(agent){return/iPod|iPad|iPhone/i.test(agent)?"iOS":/Android/i.test(agent)?"Android":void 0}function fetch(url,resolve,reject,complete){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.onreadystatechange=function(){4==this.readyState&&(200==this.status?(complete(),resolve(JSON.parse(this.responseText))):(complete(),reject()))},xhr.send()}function getDownloadUrl(platform){return"iOS"===platform?"https://itunes.apple.com/cn/app/yi-wang-lian-jie-you-xi-nei-wai/id1015325531?l=cn&mt=8":"Android"===platform?"http://im.2980.com:30816/cc/ccplayerand/zhanmeng.apk":void 0}function createTitleView(platform){return create("div","title","战盟 "+platform)}function createTypeView(version,date){var typeView=create("div","version",version);return typeView.appendChild(create("span","date",date)),typeView}function createContentView(content){var contentView=create("div","descView");return contentView.appendChild(create("div","desc",content.name)),contentView.appendChild(createItemsView(content.items)),contentView}function createItemsView(items){var olView=create("ol","content");return items.map(function(item){olView.appendChild(create("li","item",item))}),olView}function createVersionView(v){var versionView=create("div","v");return versionView.appendChild(createTypeView(v.version,v.date)),v.contents.map(function(content){versionView.appendChild(createContentView(content))}),versionView}module.exports={v2n:v2n,create:create,find:find,parse:parse,whichPlatform:whichPlatform,fetch:fetch,getDownloadUrl:getDownloadUrl,createTitleView:createTitleView,createVersionView:createVersionView}},{}]},{},[1]);